extends ../base

//- Mixinx
mixin cardData(icon, detail)
  .card__data
    svg.card__icon
      use(xlink:href=`img/icons.svg#icon-${icon}`)
    span= detail

mixin cardFooterSubSec(cnt1, cnt2) 
  p 
    span.card__footer-value= cnt1
    | 
    span.card__footer-text= cnt2

//- Content
block content
  .card-container

    each tour in tours
      .card 
        .card__header
          .card__picture
            .card__picture-overlay &nbsp;
            img.card__picture-img(src= `/img/tours/${tour.imageCover}`, alt=`${tour.title} image`)
          h3.heading-tertirary
            span= tour.name

        .card__details
          h4.card__sub-heading= `${tour.difficulty} ${tour.duration}-day tour`
          p.card__text= tour.summary

          //- Implement Card Data With Mixins
          - const tourStartDate = new Date(tour.startDates[0]).toLocaleString('en-US', {month: 'short', year: 'numeric'})
          +cardData('map-pin', tour.startLocation.description)
          +cardData('calendar', tourStartDate)
          +cardData('flag', `${tour.locations.length} stops`)
          +cardData('user', `${tour.maxGroupSize} people`)

        .card__footer
          //- Each subsection is similar - Implement with mixins
          +cardFooterSubSec(tour.price, 'per person')
          +cardFooterSubSec(tour.ratingsAverage, `rating (${tour.ratingsQuantity})`)
          

          a.btn.btn--green.btn--small(href=`/tours/${tour.slug}`) Details


