"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunknatours_review"] = self["webpackChunknatours_review"] || []).push([["locationMapModule"],{

/***/ "./public/js/modules/locationsMap.js":
/*!*******************************************!*\
  !*** ./public/js/modules/locationsMap.js ***!
  \*******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_handleErrors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/handleErrors.js */ \"./public/js/utils/handleErrors.js\");\n// Imports\n\n/**\r\n * Adds map to the UI\r\n * @param {String} mapLocations JSON string of maps\r\n * @param {String} mapboxKey Mapbox Key\r\n */\n\nvar showLocationMap = (mapLocations, mapboxKey) => {\n  return (0,_utils_handleErrors_js__WEBPACK_IMPORTED_MODULE_0__.errorWrapper)(() => {\n    // check is we have mapBoxKey\n    if (!mapLocations || !mapboxKey) throw new Error('Map locations or public key missing'); // Get locations\n\n    var locations = JSON.parse(mapLocations);\n    if (!locations) throw new Error('Could not parse map location correctly'); // Access Token\n\n    mapboxgl.accessToken = mapboxKey; // Init Map\n\n    var map = new mapboxgl.Map({\n      container: 'map',\n      style: 'mapbox://styles/marknjo/cks5s76x25pts18o4tjpaqor0',\n      scrollZoom: false\n    }); // Set Map bounds\n\n    var bounds = new mapboxgl.LngLatBounds(); // Define markers and popup\n\n    locations.forEach(loc => {\n      // Create a map pin element\n      var marker = document.createElement('div');\n      marker.className = 'marker'; // Add a marker on the map\n\n      new mapboxgl.Marker({\n        element: marker,\n        anchor: 'bottom'\n      }).setLngLat(loc.coordinates).addTo(map); // Add a popup on the map\n\n      new mapboxgl.Popup({\n        offset: 30\n      }).setLngLat(loc.coordinates).setHTML(\"<p>Day \".concat(loc.day, \": \").concat(loc.description, \" </p>\")).addTo(map);\n      bounds.extend(loc.coordinates);\n    }); // Place map on teh DOM\n\n    map.fitBounds(bounds, {\n      padding: {\n        top: 200,\n        bottom: 150,\n        right: 100,\n        left: 100\n      }\n    });\n  });\n}; // Export\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (showLocationMap);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvanMvbW9kdWxlcy9sb2NhdGlvbnNNYXAuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFJQTtBQUVBOztBQUdBOztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7O0FBT0E7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBO0FBRkE7O0FBUUE7QUFBQTtBQUFBO0FBS0E7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQURBO0FBUUE7QUFDQTs7O0FBR0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uYXRvdXJzLXJldmlldy8uL3B1YmxpYy9qcy9tb2R1bGVzL2xvY2F0aW9uc01hcC5qcz82YzY2Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcclxuaW1wb3J0IHsgZXJyb3JXcmFwcGVyIH0gZnJvbSAnLi4vdXRpbHMvaGFuZGxlRXJyb3JzLmpzJztcclxuXHJcbi8qKlxyXG4gKiBBZGRzIG1hcCB0byB0aGUgVUlcclxuICogQHBhcmFtIHtTdHJpbmd9IG1hcExvY2F0aW9ucyBKU09OIHN0cmluZyBvZiBtYXBzXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBtYXBib3hLZXkgTWFwYm94IEtleVxyXG4gKi9cclxuY29uc3Qgc2hvd0xvY2F0aW9uTWFwID0gKG1hcExvY2F0aW9ucywgbWFwYm94S2V5KSA9PiB7XHJcbiAgcmV0dXJuIGVycm9yV3JhcHBlcigoKSA9PiB7XHJcbiAgICAvLyBjaGVjayBpcyB3ZSBoYXZlIG1hcEJveEtleVxyXG4gICAgaWYgKCFtYXBMb2NhdGlvbnMgfHwgIW1hcGJveEtleSlcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNYXAgbG9jYXRpb25zIG9yIHB1YmxpYyBrZXkgbWlzc2luZycpO1xyXG5cclxuICAgIC8vIEdldCBsb2NhdGlvbnNcclxuICAgIGNvbnN0IGxvY2F0aW9ucyA9IEpTT04ucGFyc2UobWFwTG9jYXRpb25zKTtcclxuXHJcbiAgICBpZiAoIWxvY2F0aW9ucykgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgcGFyc2UgbWFwIGxvY2F0aW9uIGNvcnJlY3RseScpO1xyXG5cclxuICAgIC8vIEFjY2VzcyBUb2tlblxyXG4gICAgbWFwYm94Z2wuYWNjZXNzVG9rZW4gPSBtYXBib3hLZXk7XHJcblxyXG4gICAgLy8gSW5pdCBNYXBcclxuICAgIGNvbnN0IG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe1xyXG4gICAgICBjb250YWluZXI6ICdtYXAnLFxyXG4gICAgICBzdHlsZTogJ21hcGJveDovL3N0eWxlcy9tYXJrbmpvL2NrczVzNzZ4MjVwdHMxOG80dGpwYXFvcjAnLFxyXG4gICAgICBzY3JvbGxab29tOiBmYWxzZSxcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFNldCBNYXAgYm91bmRzXHJcbiAgICBjb25zdCBib3VuZHMgPSBuZXcgbWFwYm94Z2wuTG5nTGF0Qm91bmRzKCk7XHJcblxyXG4gICAgLy8gRGVmaW5lIG1hcmtlcnMgYW5kIHBvcHVwXHJcbiAgICBsb2NhdGlvbnMuZm9yRWFjaChsb2MgPT4ge1xyXG4gICAgICAvLyBDcmVhdGUgYSBtYXAgcGluIGVsZW1lbnRcclxuICAgICAgY29uc3QgbWFya2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIG1hcmtlci5jbGFzc05hbWUgPSAnbWFya2VyJztcclxuXHJcbiAgICAgIC8vIEFkZCBhIG1hcmtlciBvbiB0aGUgbWFwXHJcbiAgICAgIG5ldyBtYXBib3hnbC5NYXJrZXIoe1xyXG4gICAgICAgIGVsZW1lbnQ6IG1hcmtlcixcclxuICAgICAgICBhbmNob3I6ICdib3R0b20nLFxyXG4gICAgICB9KVxyXG4gICAgICAgIC5zZXRMbmdMYXQobG9jLmNvb3JkaW5hdGVzKVxyXG4gICAgICAgIC5hZGRUbyhtYXApO1xyXG5cclxuICAgICAgLy8gQWRkIGEgcG9wdXAgb24gdGhlIG1hcFxyXG4gICAgICBuZXcgbWFwYm94Z2wuUG9wdXAoeyBvZmZzZXQ6IDMwIH0pXHJcbiAgICAgICAgLnNldExuZ0xhdChsb2MuY29vcmRpbmF0ZXMpXHJcbiAgICAgICAgLnNldEhUTUwoYDxwPkRheSAke2xvYy5kYXl9OiAke2xvYy5kZXNjcmlwdGlvbn0gPC9wPmApXHJcbiAgICAgICAgLmFkZFRvKG1hcCk7XHJcblxyXG4gICAgICBib3VuZHMuZXh0ZW5kKGxvYy5jb29yZGluYXRlcyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBQbGFjZSBtYXAgb24gdGVoIERPTVxyXG4gICAgbWFwLmZpdEJvdW5kcyhib3VuZHMsIHtcclxuICAgICAgcGFkZGluZzoge1xyXG4gICAgICAgIHRvcDogMjAwLFxyXG4gICAgICAgIGJvdHRvbTogMTUwLFxyXG4gICAgICAgIHJpZ2h0OiAxMDAsXHJcbiAgICAgICAgbGVmdDogMTAwLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG4vLyBFeHBvcnRcclxuZXhwb3J0IGRlZmF1bHQgc2hvd0xvY2F0aW9uTWFwO1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/js/modules/locationsMap.js\n");

/***/ })

}]);